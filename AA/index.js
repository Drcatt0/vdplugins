(function(plugin,common,ui,patcher){const{FormRow}=ui.Forms,Icon=common.findByName("Icon"),openLazy=common.findByProps("openLazy","hideActionSheet"),{openURL}=common.findByProps("openURL","openDeeplink"),SearchIcon=ui.assets.getAssetIDByName("search");const saucenaoUrl="https://saucenao.com/search.php?url=";function addSauceNAOOption(){return patcher.before("openLazy",openLazy,async function(args,[component]){if(component!=="MediaShareActionSheet")return;const res=await args[0];patcher.after(res,"default",({props:{children}},[data])=>{const source=data.sourceURI||data.uri;if(!source)return;children.push({icon:SearchIcon,label:"Search on SauceNAO",onPress:()=>openURL(saucenaoUrl+encodeURIComponent(source))})})})}plugin.onLoad=addSauceNAOOption,plugin.onUnload=()=>patcher.unpatchAll()})(vendetta.plugin,vendetta.metro,vendetta.ui,vendetta.patcher);
