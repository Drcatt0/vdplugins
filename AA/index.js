(function(plugin,common,ui,patcher){const{FormRow}=ui.Forms,Icon=common.findByName("Icon"),ActionSheet=common.findByProps("openLazy","hideActionSheet"),{openURL}=common.findByProps("openURL","openDeeplink"),SauceNAOUrl="https://saucenao.com/search.php?url=";plugin.onLoad=function(){patcher.before("openLazy",ActionSheet,async function(args,[name]){if(name!=="MediaShareActionSheet")return;const res=await args[0];patcher.after(res,"default",(_,props)=>{const source=props?.sourceURI||props?.uri;if(!source)return;props.props.children.props.children.push({icon:()=>ui.React.createElement(Icon,{source:ui.assets.getAssetIDByName("search")}),label:"Search on SauceNAO",onPress:()=>openURL(SauceNAOUrl+encodeURIComponent(source))})})})},plugin.onUnload=function(){patcher.unpatchAll()}})(vendetta.plugin,vendetta.metro,vendetta.ui,vendetta.patcher);
