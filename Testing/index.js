(function(f,L,g,t,B,C,c,d,F,D,G,k,O,E){"use strict";const SAUCENAO_URL="https://saucenao.com/search.php?url=%s",M=g.findByProps("openLazy","hideActionSheet"),Overlay=g.findByProps("showOverlay","hideOverlay"),ImagePreview=g.findByName("ImagePreview");function createSauceNAOButton(url){return t.React.createElement("TouchableOpacity",{style:{position:"absolute",top:10,right:10,padding:10,backgroundColor:"#FFFFFFDD",borderRadius:5},onPress:()=>{g.findByProps("sendBotMessage").sendBotMessage(g.findByStoreName("ChannelStore").getChannelId(),{content:"[SauceNAO Search]("+SAUCENAO_URL.replace("%s",encodeURIComponent(url))+")"});Overlay.hideOverlay();}},t.React.createElement("Text",{style:{color:"#000000",fontWeight:"bold"}},"SauceNAO Search"));}function K(){B.before("openLazy",M,function(args){const [moduleName,props]=args;if(moduleName==="ImagePreview"&&props?.url){const unpatch=B.after("default",ImagePreview,function(_,res){t.React.useEffect(()=>{return ()=>unpatch();},[]);const imageUrl=props.url;if(!imageUrl)return;res.props.children=t.React.createElement(t.React.Fragment,null,res.props.children,createSauceNAOButton(imageUrl));});}});}var plugin={onLoad:function(){this.unpatch=K();},onUnload:function(){this.unpatch&&this.unpatch();}};return f.default=plugin,Object.defineProperty(f,"__esModule",{value:!0}),f})({},vendetta.plugin,vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui,vendetta.ui.assets,vendetta.ui.components,vendetta.utils,vendetta,vendetta.commands,vendetta.ui.alerts,vendetta.storage,vendetta.ui.toasts);
